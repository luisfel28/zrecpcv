<mvc:View controllerName="fidelidademundial.com.zrecpcv.controller.contratos"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns:t="sap.ui.table"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}">
        <content>
            <HBox>
                <VBox class="sapUiMediumMarginBegin sapUiSmallMarginTop">
                    <Label text="Empresa" />
                    <FlexBox alignItems="Center" justifyContent="Start">
                            <MultiComboBox
                            selectionChange="handleCompanyChange"
                            class="sapUiSmallMarginEnd"
                            width="200px"
                            showSecondaryValues= "true"
                            selectedKeys="FS01,FIIS"
                            items="{
                                path: '/I_CompanyCode',
                                sorter: { path: 'CompanyCode' }
                            }">
                        <core:ListItem key="{CompanyCode}" text="{CompanyCode}" additionalText="{CompanyCodeName}"/>
                        </MultiComboBox>
                    </FlexBox>
                </VBox>
                <VBox class="sapUiSmallMarginBegin sapUiSmallMarginTop">
                    <Label text="Contrato Reserva" />
                    <FlexBox alignItems="Center" justifyContent="Start">
                            <MultiComboBox
                            selectionChange="handleCompanyChange"
                            class="sapUiSmallMarginEnd"
                            width="200px"
                            showSecondaryValues= "true"
                            items="{
                                path: '/ZI_CONTRATOS_RESERVAS',
                                sorter: { path: 'recnnr' }
                            }">
                        <core:ListItem key="{recnnr}" text="{recnnr}" />
                        </MultiComboBox>
                    </FlexBox>
                </VBox>              
                <VBox class="sapUiSmallMarginBegin sapUiSmallMarginTop" >
                    <HBox>
                        <VBox>
                            <Button text="Filtrar" type="Emphasized" width="150px" icon="sap-icon://inspection" press="OnSearchCont" class="sapUiSmallMarginBegin sapUiSmallMarginTop"></Button>
                        </VBox>
                    </HBox>
                </VBox>                  
            </HBox>                                                        
            <HBox>
                <VBox class="sapUiMediumMarginBegin " id="pnlCont" visible="true">
                        <t:Table class="sapUiMediumMarginTop" enableColumnFreeze="true" enableSelectAll="false" fixedColumnCount="3" enableBusyIndicator="true" visibleRowCount="16" alternateRowColors="true" selectionMode="Single" 
                        showNoData="false" id="TabCont" selectionBehavior="RowOnly"
                            rows="{ path:'/ZI_CONTRATOS_RESERVAS', events: { change: '.onChangeTabCont' } }">
							<t:extension>
                                <OverflowToolbar style="Clear">
                                    <Title id="TabContListTitle" text="Contratos" titleStyle="H3" level="H3"/>
                                    <ToolbarSpacer/>
                                    <Button text="Criar Contrato de Venda" type="Attention" width="250px" icon="sap-icon://SAP-icons-TNT/data" press="onCreateCont" class="sapUiSmallMarginBegin"></Button>
                                </OverflowToolbar>
                            </t:extension>
                            <t:columns>
                                <t:Column width="6rem" >
									<Text text="Empresa"/>
                                    <t:template>
                                        <Label text="{bukrs}" design="Bold" />
                                    </t:template>
								</t:Column>
                                <t:Column width="14rem" >
									<Text text="Contrato Reserva"/>
                                    <t:template>
                                        <Label text="{recnnr}" />
                                    </t:template>
								</t:Column>
                                <t:Column width="14rem" >
									<Text text="Contrato Venda"/>
                                    <t:template>
                                        <Label text="{recnnrcpcv}" />
                                    </t:template>
								</t:Column>                                                                
	                        </t:columns>
						</t:Table>                            
                </VBox>
            </HBox>
        </content>                    
    </Page>
</mvc:View>
